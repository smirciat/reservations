{"filter":false,"title":"uiSelectWrap.directive.js","tooltip":"/client/components/uiSelectWrap/uiSelectWrap.directive.js","undoManager":{"mark":5,"position":5,"stack":[[{"start":{"row":0,"column":0},"end":{"row":10,"column":5},"action":"remove","lines":["'use strict';","","angular.module('workApp')","  .directive('uiSelectWrap', function () {","    return {","      templateUrl: 'components/uiSelectWrap/uiSelectWrap.html',","      restrict: 'EA',","      link: function (scope, element, attrs) {","      }","    };","  });"],"id":2},{"start":{"row":0,"column":0},"end":{"row":38,"column":0},"action":"insert","lines":["'use strict';","","angular.module('workspaceApp')","  .directive('uiSelectWrap', function ($document, uiGridEditConstants) {","    return {","      require: '?^uiGrid',","      link: function (scope, element, attrs, uiGridCtrl) {","        $document.on('click', docClick);","        function docClick(evt) {","          if ($(evt.target).closest('.ui-select-container').size() === 0) {","            scope.$emit(uiGridEditConstants.events.END_CELL_EDIT);","            $document.off('click', docClick);","          }","        }","        ","        //set focus at start of edit","        scope.$on(uiGridEditConstants.events.BEGIN_CELL_EDIT, function (evt, args) {","          //whoa, this is ugly","          scope.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.selectedRow=scope.row;","          hideOnCellnav();","        });","    ","        function hideOnCellnav() {","          ","          if (uiGridCtrl && uiGridCtrl.grid.api.cellNav) {","            var dereg = uiGridCtrl.grid.api.cellNav.on.navigate(scope, function (newRowCol, oldRowCol) {","              if (scope.col.colDef.enableCellEditOnFocus) {","                if (newRowCol.row !== scope.row || newRowCol.col !== scope.col) {","                  scope.$emit(uiGridEditConstants.events.END_CELL_EDIT);","                 dereg();","               }","              }","           });","         }","        }","      }","    };","  });",""]}],[{"start":{"row":2,"column":20},"end":{"row":2,"column":21},"action":"remove","lines":["s"],"id":3}],[{"start":{"row":2,"column":20},"end":{"row":2,"column":21},"action":"remove","lines":["p"],"id":4}],[{"start":{"row":2,"column":20},"end":{"row":2,"column":21},"action":"remove","lines":["a"],"id":5}],[{"start":{"row":2,"column":20},"end":{"row":2,"column":21},"action":"remove","lines":["c"],"id":6}],[{"start":{"row":2,"column":20},"end":{"row":2,"column":21},"action":"remove","lines":["e"],"id":7}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":2,"column":20},"end":{"row":2,"column":20},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1454610385824,"hash":"be2ec86276124284ef3d2144ea52a88310e41ef5"}